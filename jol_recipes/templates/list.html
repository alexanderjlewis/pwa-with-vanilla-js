{% extends "base.html" %}
{% block title %}JOL Recipe List{% endblock title %}
{% block content %}
  <div class="container">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
      <a class="navbar-brand" href="/index.html">JOL Recipe Book</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </nav>
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/">Home</a></li>
      <li class="breadcrumb-item active">List</li>
    </ol>
    <div class="row">
      <div class="col-lg-12">
        <h2>Recipes</h2>
      </div>
    </div>
    <div class="container">
      <div class="row row-cols-1 row-cols-md-3 g-4">
        {% for recipe in recipes %}
          <div class="col" id="{{ recipe['safe_name'] }}">
            <div class="card border-primary mb-3">
              <div class="card-header">{{ recipe['name'] }}</div>
              <div class="card-body">
                <p>
                  {% for tag in recipe['tags_info'] %}
                    <span class="badge badge-pill badge-info">{{ tag }}</span>
                  {% endfor %}
                  {% for tag in recipe['tags_green'] %}
                    <span class="badge badge-pill badge-success">{{ tag }}</span>
                  {% endfor %}
                </p>
                <p class="card-text">{{ recipe['tag_line'] }}</p>
                <a href="/recipe/{{ recipe['safe_name'] }}" class="btn btn-primary stretched-link">See Details</a>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
  <br class="mb-4">
{% endblock content %}

{% block scripts %}
  <script>
    $(document).ready(function() {
        $("#cardFilter").on("change", function() {
            var value = $(this).val().toLowerCase();
            $('div[data-role="recipe"]').filter(function() {
                $(this).toggle($(this).find('h4').text().toLowerCase().indexOf(value) > -1)
            });
        });
    });
  </script>
{% endblock scripts %}